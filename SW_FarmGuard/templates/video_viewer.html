<!-- templates/video_viewer.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Camera Video Viewer</title>
</head>
<body>
    {% include 'header.html' %} 

    <h2>Camera Video Viewer: {{ camera_name }}</h2>
    <iframe id="videoFrame" src="{{ url_for('video_feed', camera_name=camera_name) }}"width="100%" height="500"></iframe>
    
    <script>
        function stopVideo() {
            var videoFrame = document.getElementById("videoFrame");
            videoFrame.src = "about:blank";
        }
        
        var navigationLinks = document.querySelectorAll(".mui-tabs__bar a");
        for (var i = 0; i < navigationLinks.length; i++) {
            navigationLinks[i].addEventListener("click", stopVideo);
        }
    </script>
</body>
</html>
